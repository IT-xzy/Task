<!DOCTYPE html>
<html lang="zh">

<head>
 <!-- <meta name="viewport" content="width=device-width,initial-scale=1.0"> -->
<meta charset="utf-8">
<title>九宫格</title>
<style type="text/css">
*{
	margin：0;
	padding：0;
}

#sudoku{
	width:100%;
	height:100vw;
	overflow:hidden;
}
.box{
	display: inline;
	width: 31.33%;
	height: 31.33%;
	float: left;
	margin: 1%;
	border-radius: 10%;
	background-color:orange;
}
.buttons{
	width: 100%;
	height: 40px;
	text-align: center;
	line-height: 40px;
	background:red;
	border-radius: 10px;
}
</style>

</head>
<body>
	<div id ="sudoku">

	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>
	<div class="box"></div>

</div>
<script>
	function start() {
    "use strict";
    function colorFlash() {                          //随机取得三个颜色
            
            var arr = [0,1,2,3,4,5,6,7,8];
         
            var out = [];
           
            var num = 3;
            while(out.length < num) {
                var temp = (Math.random()*arr.length) >> 0;
                out.push(arr.splice(temp,1));
            }
            //用for循环替代
            var choose_num = document.getElementsByClassName("box");            //进行DOM节点控制
            for (var i=0, len=out.length; i<len; i++) {
                choose_num[out[i]].style.backgroundColor = randomColor() ;         //获取到每个格子的dom，然后随机取三个数.
            }
            function randomColor () {                                             // randomColor () 随机取一波颜色
                const r = Math.round(Math.random()*255);
                const g = Math.round(Math.random()*255);
                const b = Math.round(Math.random()*255);
                const a = ( (Math.random()*5 + 5) / 10 ).toFixed(2)
                const color = `rgba(${r},${g},${b},${a})`;
                return color;
            }
            for (var j = 0; j < arr.length; j++) {
                choose_num[arr[j]].style.backgroundColor = "#ff7f00";         //获取到每个格子的dom，然后随机取三个数.
            }
        }
    clearInterval(window.myVar);                                                                    
    window.myVar = setInterval(function () { colorFlash() }, 1000);             //定义一个反复执行的调用
}
function end() {
    clearInterval(window.myVar);                                                                  
    var choose_num = document.getElementsByClassName("box");            //进行DOM节点控制
        var arr = [0,1,2,3,4,5,6,7,8];
        for (x = 0; x < arr.length; x++) {
            choose_num[arr[x]].style.backgroundColor = "#ff7f00";
        }
}


</script>
<button type="button" class="buttons" onclick="start()">点击开始</button>
<button type="button" class="buttons" onclick="end()">点击结束</button>


</body>
</html>